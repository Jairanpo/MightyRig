import maya.cmds as cmds
import Node_Scale
def HERARCHY():
    #HERARCHY_LEG_L
    cmds.parent('P_J_Leg_Neutral_L','J_Pelvis')
    cmds.parent('P_J_Leg_FK_L','J_Pelvis')
    cmds.parent('P_J_Leg_IK_L','J_Pelvis')
    cmds.parent('P_L_FK_Leg_CTL','M_Pelvis_CTL')
    #cmds.parent('Z_Ini_Stretch_Leg_L','J_Pelvis')
    cmds.select(d=True)
    #HERARCHY_LEG_R
    cmds.parent('P_J_Leg_Neutral_R','J_Pelvis')
    cmds.parent('P_J_Leg_FK_R','J_Pelvis')
    cmds.parent('P_J_Leg_IK_R','J_Pelvis')
    cmds.parent('P_R_FK_Leg_CTL','M_Pelvis_CTL')
    #cmds.parent('Z_Ini_Stretch_Leg_R','J_Pelvis')
    cmds.select(d=True)
    #HIDDEN_ARM_L
    #cmds.group(n='Hidden_Arm_L',em=True)
    #cmds.parent('distanceDimension_Stretch_Master_Arm_L','Hidden_Arm_L')
    #cmds.parent('Z_Ribs_Nurb_Arm_L','Hidden_Arm_L')
    #cmds.select(d=True)
    #HIDDEN_Leg_L
    #cmds.group(n='Hidden_Leg_L',em=True)
    #cmds.parent('distanceDimension_Stretch_Master_Leg_L','Hidden_Leg_L')
    #cmds.parent('Z_Ribs_Nurb_Leg_L','Hidden_Leg_L')
    #cmds.select(d=True)
    #HIDDEN_Leg_R
    #cmds.group(n='Hidden_Leg_R',em=True)
    #cmds.parent('distanceDimension_Stretch_Master_Leg_R','Hidden_Leg_R')
    #cmds.parent('Z_Ribs_Nurb_Leg_R','Hidden_Leg_R')
    #cmds.select(d=True)
    #HIDDEN_ARM_R
    #cmds.group(n='Hidden_Arm_R',em=True)
    #cmds.parent('distanceDimension_Stretch_Master_Arm_R','Hidden_Arm_R')
    #cmds.parent('Z_Ribs_Nurb_Arm_R','Hidden_Arm_R')
    #cmds.parent('Z_Ini_Stretch_Arm_R','J_Clavicle_R')
    cmds.select(d=True)
    #HERARCHY_ARM_L
    cmds.parent('Z_J_Clavicle_L','J_Chest')
    #HERARCHY_ARM_R
    cmds.parent('Z_J_Clavicle_R','J_Chest')
    cmds.parent('Z_J_Chest','J_COG')
    cmds.select(d=True)
    #HERARCHY_SPINE
    cmds.parent('Z_J_Ctrl_Spine_Mid','Hidden_Spine')
    cmds.parent('Z_J_Ctrl_Spine_Chest','Hidden_Spine')
    cmds.parent('Z_J_Ctrl_Spine_1','Hidden_Spine')
    cmds.parent('P_M_SpineAdj_CTL','M_Cog_CTL')
    cmds.select(d=True)
    #HERARCHY
    cmds.group(n='Hidden_CVS_PV',em=True)
    cmds.parent('Z_Cv_Polevector_Arm_L','Hidden_CVS_PV')
    cmds.parent('Z_Cv_Polevector_Arm_R','Hidden_CVS_PV')
    cmds.parent('Z_Cv_Polevector_Leg_L','Hidden_CVS_PV')
    cmds.parent('Z_Cv_Polevector_Leg_R','Hidden_CVS_PV')
    #GROUP_RIG
    RIG= cmds.group(n='_root',em=True)
    Hidden= cmds.group(n='hidden',em=True)
    Joints= cmds.group(n='Joints_',em=True)
    Ctrls= cmds.group(n='Ctrls_',em=True)
    Geo= cmds.group(n='model_root',em=True)
    Jerarquia= cmds.parent(Geo,Joints,Ctrls,Hidden,RIG)
    cmds.select(d=True)
    #HERARCHY_CTRLS
    cmds.parent('P_C_mainB_ctl_0','C_mainA_ctl_0')
    cmds.parent('P_M_Cog_CTL','C_mainC_ctl_0')
    cmds.parent('P_C_mainC_ctl_0','C_mainB_ctl_0')
    cmds.group(n='Ctrls_Arms_IK',em=True)
    cmds.parent('P_L_IK_Arm_CTL','Ctrls_Arms_IK')
    cmds.parent('P_R_IK_Arm_CTL','Ctrls_Arms_IK')
    cmds.select(d=True)
    cmds.group(n='Ctrls_Legs_IK',em=True)
    cmds.parent('P_L_IK_Leg_CTL','Ctrls_Legs_IK')
    cmds.parent('P_R_IK_Leg_CTL','Ctrls_Legs_IK')
    cmds.select(d=True)
    cmds.group(n='Ctrls_PoleVectors',em=True)
    cmds.parent('P_L_PolevectorArm_CTL','Ctrls_PoleVectors')
    cmds.parent('P_R_PolevectorArm_CTL','Ctrls_PoleVectors')
    cmds.parent('P_L_PolevectorLeg_CTL','Ctrls_PoleVectors')
    cmds.parent('P_R_PolevectorLeg_CTL','Ctrls_PoleVectors')
    cmds.select(d=True)
    cmds.parent('Ctrls_Arms_IK','C_mainC_ctl_0')
    cmds.parent('Ctrls_Legs_IK','C_mainC_ctl_0')
    cmds.parent('Ctrls_PoleVectors','C_mainC_ctl_0')
    cmds.select(d=True)
    cmds.parent('P_C_mainA_ctl_0',Ctrls)
    #cmds.group(n='Ctrls_Bendys_Arms',em=True)
    #cmds.parent('Ctrls_Bendys_Arms','Ctrls_')
    #cmds.parent('P_Ctrl_Bendy_2_Arm_L','Ctrls_Bendys_Arms')
    #cmds.parent('P_Ctrl_Bendy_2_ForeArm_L','Ctrls_Bendys_Arms')
    #cmds.parent('P_Ctrl_Bendy_2_Arm_R','Ctrls_Bendys_Arms')
    #cmds.parent('P_Ctrl_Bendy_2_ForeArm_R','Ctrls_Bendys_Arms')
    #cmds.group(n='Ctrls_Bendys_Legs',em=True)
    #cmds.parent('Ctrls_Bendys_Legs','Ctrls_')
    #cmds.parent('P_Ctrl_Bendy_Mid_Leg_L','Ctrls_Bendys_Legs')
    #cmds.parent('P_Ctrl_Bendy_Mid_ForeLeg_L','Ctrls_Bendys_Legs')
    #cmds.parent('P_Ctrl_Bendy_Mid_Leg_R','Ctrls_Bendys_Legs')
    #cmds.parent('P_Ctrl_Bendy_Mid_ForeLeg_R','Ctrls_Bendys_Legs')
    cmds.select(d=True)
    #HERARCHY_HIDDEN
    #cmds.parent('Hidden_Arm_R',Hidden)
    #cmds.parent('Hidden_Arm_L',Hidden)
    cmds.parent('Hidden_Spine',Hidden)
    cmds.parent('Hidden_CVS_PV',Hidden)
    #cmds.parent('Hidden_Leg_L',Hidden)
    #cmds.parent('Hidden_Leg_R',Hidden)
    #cmds.select(d=True)
    #HERARCHY_JOINTS
    cmds.parent('P_J_Spine_1','J_COG')
    cmds.parent('Z_J_COG',Joints)
    cmds.select(d=True)
    #HERARCHY_CTRLS_FINGERS_L
    cmds.parent('P_L_Thumb_00_CTL','J_Hand_Neutral_L')
    cmds.parent('P_L_Index_00_CTL','J_Hand_Neutral_L')
    cmds.parent('P_L_Middle_00_CTL','J_Hand_Neutral_L')
    cmds.parent('P_L_Ring_00_CTL','J_Hand_Neutral_L')
    cmds.parent('P_L_Pinky_00_CTL','J_Hand_Neutral_L')
    cmds.parent('P_R_Thumb_00_CTL','J_Hand_Neutral_R')
    cmds.parent('P_R_Index_00_CTL','J_Hand_Neutral_R')
    cmds.parent('P_R_Middle_00_CTL','J_Hand_Neutral_R')
    cmds.parent('P_R_Ring_00_CTL','J_Hand_Neutral_R')
    cmds.parent('P_R_Pinky_00_CTL','J_Hand_Neutral_R')
    cmds.delete('Ctrls_Proxy')
    cmds.select(d=True)
    List_Hidde=['P_Loc_Follow_Spine_Mid','P_Loc_Follow_Spine_Pelvis','P_Loc_Follow_Spine_Chest','Z_J_Cv_1_Leg_R','Z_J_Cv_1_Leg_L','Z_J_Cv_1_Arm_L','Z_J_Cv_1_Arm_R']
    for Obj in List_Hidde:
        cmds.hide(Obj)
    cmds.select(d=True)
    #Scale_Spine#
    Node_Scale.Connect('C_mainA_ctl_0.scale','J_COG.scale')
    Distancia_Spine=cmds.getAttr('Cv_Info_Spine.arcLength')
    Node_Scale.Mult('MD_Scale_Spine')
    cmds.setAttr('MD_Scale_Spine.input2X',Distancia_Spine)
    Node_Scale.Connect('C_mainA_ctl_0.scaleX','MD_Scale_Spine.input1X')
    Node_Scale.Connect('MD_Scale_Spine.outputX','MD_Stretch_Spine.input2X')
    Node_Scale.Connect('MD_Scale_Spine.outputX','MD_MASS_LOSS_Spine.input1X')
